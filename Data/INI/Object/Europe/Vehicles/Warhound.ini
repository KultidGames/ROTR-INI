;------------------------------------------------------------------------------
Object EuropeTankWarhound

  ; *** ART Parameters ***
  SelectPortrait         = SEWarhound_L
  ButtonImage            = SEWarhound
  
  UpgradeCameo1 = Upgrade_EuropeClusterMunitions
  UpgradeCameo2 = Upgrade_EuropeArmorSkirts
  UpgradeCameo3 = Upgrade_EuropeBuildingRepair
  ;UpgradeCameo4 = NONE
  ;UpgradeCameo5 = NONE
  
  Draw = W3DTankDraw ModuleTag_01
  
    OkToChangeModelColor = Yes
    MaxRecoilDistance    = 1.0
    ParticlesAttachedToAnimatedBones = Yes 

    DefaultConditionState
      Model             = EVAvre
      Animation         = EVAvre_SKL.EVAvre_MVA
      AnimationMode     = ONCE_BACKWARDS
      Flags             = START_FRAME_LAST
      Turret            = Turret
      WeaponFireFXBone  = SECONDARY MzzlMG
      WeaponLaunchBone  = SECONDARY MzzlMG
      WeaponMuzzleFlash = SECONDARY MzzlMGFX
      WeaponMuzzleFlash = TERTIARY MuzzleFX
      TransitionKey     = TRANS_MOBILE
      WaitForStateToFinishIfPossible = TRANS_DIGGING_BOMB
    End
    AliasConditionState = RIDER1
    AliasConditionState = RIDER1 NIGHT
    
   ConditionState = RIDER1 MOVING
      Animation         = EVAvre_SKL.EVAvre_MVA
      AnimationMode     = ONCE
      Flags             = START_FRAME_FIRST
      Turret            = Turret
      WeaponFireFXBone  = SECONDARY MzzlMG
      WeaponLaunchBone  = SECONDARY MzzlMG
      WeaponMuzzleFlash = SECONDARY MzzlMGFX
      WeaponMuzzleFlash = TERTIARY MuzzleFX
      TransitionKey     = TRANS_MOVING
      WaitForStateToFinishIfPossible = TRANS_DIGGING_BOMB
    End
    AliasConditionState = RIDER1 MOVING NIGHT
    
    ;Transitions between modes
    TransitionState = TRANS_MOBILE TRANS_IMMOBILE
      Animation         = EVAvre_SKL.EVAvre_DGA
      AnimationMode     = ONCE
      TurretPitch       = TurretEL
      WeaponRecoilBone  = SECONDARY Barrel
      WeaponFireFXBone  = SECONDARY Muzzle
      WeaponLaunchBone  = SECONDARY Muzzle
      WeaponMuzzleFlash = SECONDARY MuzzleFX
      WeaponMuzzleFlash = TERTIARY MzzlMGFX
      Flags             = START_FRAME_FIRST PRISTINE_BONE_POS_IN_FINAL_FRAME
      ParticleSysBone   = BLADEDUST DozerDirtFall
    End

    TransitionState = TRANS_IMMOBILE TRANS_MOBILE
      Animation         = EVAvre_SKL.EVAvre_DGB
      AnimationMode     = ONCE
      WeaponFireFXBone  = SECONDARY MzzlMG
      WeaponLaunchBone  = SECONDARY MzzlMG
      WeaponMuzzleFlash = SECONDARY MzzlMGFX
      WeaponMuzzleFlash = TERTIARY MuzzleFX
      Flags             = START_FRAME_FIRST PRISTINE_BONE_POS_IN_FINAL_FRAME
    End
    
    TransitionState = TRANS_MOVING TRANS_IMMOBILE
      Animation         = EVAvre_SKL.EVAvre_DGA
      AnimationMode     = ONCE
      TurretPitch       = TurretEL
      WeaponRecoilBone  = SECONDARY Barrel
      WeaponFireFXBone  = SECONDARY Muzzle
      WeaponLaunchBone  = SECONDARY Muzzle
      WeaponMuzzleFlash = SECONDARY MuzzleFX
      WeaponMuzzleFlash = TERTIARY MzzlMGFX
      Flags             = START_FRAME_FIRST PRISTINE_BONE_POS_IN_FINAL_FRAME
      ParticleSysBone   = BLADEDUST DozerDirtFall
    End

    TransitionState = TRANS_IMMOBILE TRANS_MOVING
      Animation         = EVAvre_SKL.EVAvre_DGC
      AnimationMode     = ONCE
      WeaponFireFXBone  = SECONDARY MzzlMG
      WeaponLaunchBone  = SECONDARY MzzlMG
      WeaponMuzzleFlash = SECONDARY MzzlMGFX
      WeaponMuzzleFlash = TERTIARY MuzzleFX
      Flags             = START_FRAME_FIRST PRISTINE_BONE_POS_IN_FINAL_FRAME
    End
    
    ;Dugin Conditions
    ConditionState      = RIDER2
      Animation         = EVAvre_SKL.EVAvre_DGA
      AnimationMode     = ONCE
      TurretPitch       = TurretEL
      WeaponRecoilBone  = SECONDARY Barrel
      WeaponFireFXBone  = SECONDARY Muzzle
      WeaponLaunchBone  = SECONDARY Muzzle
      WeaponMuzzleFlash = SECONDARY MuzzleFX
      WeaponMuzzleFlash = TERTIARY MzzlMGFX
      Flags             = START_FRAME_LAST PRISTINE_BONE_POS_IN_FINAL_FRAME
      TransitionKey     = TRANS_IMMOBILE
      WaitForStateToFinishIfPossible = NONE
    End
    AliasConditionState = RIDER2 NIGHT
    AliasConditionState = RIDER2 MOVING
    AliasConditionState = RIDER2 MOVING NIGHT
    
    
    ;Diging in demo charge conditions
   ConditionState       = RIDER1 PREATTACK_C
      Animation         = EVAvre_SKL.EVAvre_BDC
      AnimationMode     = ONCE
      Flags             = START_FRAME_FIRST
      WeaponFireFXBone  = SECONDARY MzzlMG
      WeaponLaunchBone  = SECONDARY MzzlMG
      WeaponMuzzleFlash = SECONDARY MzzlMGFX
      WeaponMuzzleFlash = TERTIARY MuzzleFX
      ParticleSysBone   = BLADEDUST DozerDirtFall_Permanent
      WaitForStateToFinishIfPossible = NONE
   End
    AliasConditionState = RIDER1 PREATTACK_C NIGHT
    
   ConditionState       = RIDER1 FIRING_C
      Animation         = EVAvre_SKL.EVAvre_BDD
      AnimationMode     = ONCE_BACKWARDS
      Flags             = START_FRAME_LAST
      WeaponFireFXBone  = SECONDARY MzzlMG
      WeaponLaunchBone  = SECONDARY MzzlMG
      WeaponMuzzleFlash = SECONDARY MzzlMGFX
      WeaponMuzzleFlash = TERTIARY MuzzleFX
      TransitionKey     = TRANS_DIGGING_BOMB
      ParticleSysBone   = BLADEDUST DozerDirtFall
      WaitForStateToFinishIfPossible = NONE
   End
    AliasConditionState = RIDER1 FIRING_C NIGHT
    
    
    
    ;Reallydamaged conditions
    ConditionState      = REALLYDAMAGED RIDER1
      Model             = EVAvre_D
      Animation         = EVAvre_SKL.EVAvre_MVA
      AnimationMode     = ONCE_BACKWARDS
      Flags             = START_FRAME_LAST
      Turret            = Turret
      WeaponFireFXBone  = SECONDARY MzzlMG
      WeaponLaunchBone  = SECONDARY MzzlMG
      WeaponMuzzleFlash = SECONDARY MzzlMGFX
      WeaponMuzzleFlash = TERTIARY MuzzleFX
      TransitionKey     = TRANS_DAMAGED_MOBILE
      WaitForStateToFinishIfPossible = TRANS_DAMAGED_DIGGING_BOMB
    End
    AliasConditionState = REALLYDAMAGED RIDER1 NIGHT
    AliasConditionState = RUBBLE RIDER1
    AliasConditionState = RUBBLE RIDER1 NIGHT
    
    ConditionState = REALLYDAMAGED RIDER1 MOVING
      Model             = EVAvre_D
      Animation         = EVAvre_SKL.EVAvre_MVA
      AnimationMode     = ONCE
      Flags             = START_FRAME_FIRST
      Turret            = Turret
      WeaponFireFXBone  = SECONDARY MzzlMG
      WeaponLaunchBone  = SECONDARY MzzlMG
      WeaponMuzzleFlash = SECONDARY MzzlMGFX
      WeaponMuzzleFlash = TERTIARY MuzzleFX
      TransitionKey     = TRANS_DAMAGED_MOVING
      WaitForStateToFinishIfPossible = TRANS_DAMAGED_DIGGING_BOMB
    End
    AliasConditionState = REALLYDAMAGED RIDER1 MOVING NIGHT
    
    ;Transitions between modes
    TransitionState = TRANS_DAMAGED_MOBILE TRANS_DAMAGED_IMMOBILE
      Model             = EVAvre_D
      Animation         = EVAvre_SKL.EVAvre_DGA
      AnimationMode     = ONCE
      TurretPitch       = TurretEL
      WeaponRecoilBone  = SECONDARY Barrel
      WeaponFireFXBone  = SECONDARY Muzzle
      WeaponLaunchBone  = SECONDARY Muzzle
      WeaponMuzzleFlash = SECONDARY MuzzleFX
      WeaponMuzzleFlash = TERTIARY MzzlMGFX
      Flags             = START_FRAME_FIRST PRISTINE_BONE_POS_IN_FINAL_FRAME
      ParticleSysBone   = BLADEDUST DozerDirtFall
    End

    TransitionState = TRANS_DAMAGED_IMMOBILE TRANS_DAMAGED_MOBILE
      Model             = EVAvre_D
      Animation         = EVAvre_SKL.EVAvre_DGB
      AnimationMode     = ONCE
      WeaponFireFXBone  = SECONDARY MzzlMG
      WeaponLaunchBone  = SECONDARY MzzlMG
      WeaponMuzzleFlash = SECONDARY MzzlMGFX
      WeaponMuzzleFlash = TERTIARY MuzzleFX
      Flags             = START_FRAME_FIRST PRISTINE_BONE_POS_IN_FINAL_FRAME
    End
    
    TransitionState = TRANS_DAMAGED_MOVING TRANS_DAMAGED_IMMOBILE
      Model             = EVAvre_D
      Animation         = EVAvre_SKL.EVAvre_DGA
      AnimationMode     = ONCE
      TurretPitch       = TurretEL
      WeaponRecoilBone  = SECONDARY Barrel
      WeaponFireFXBone  = SECONDARY Muzzle
      WeaponLaunchBone  = SECONDARY Muzzle
      WeaponMuzzleFlash = SECONDARY MuzzleFX
      WeaponMuzzleFlash = TERTIARY MzzlMGFX
      Flags             = START_FRAME_FIRST PRISTINE_BONE_POS_IN_FINAL_FRAME
      ParticleSysBone   = BLADEDUST DozerDirtFall
    End

    TransitionState = TRANS_DAMAGED_IMMOBILE TRANS_DAMAGED_MOVING
      Model             = EVAvre_D
      Animation         = EVAvre_SKL.EVAvre_DGC
      AnimationMode     = ONCE
      WeaponFireFXBone  = SECONDARY MzzlMG
      WeaponLaunchBone  = SECONDARY MzzlMG
      WeaponMuzzleFlash = SECONDARY MzzlMGFX
      WeaponMuzzleFlash = TERTIARY MuzzleFX
      Flags             = START_FRAME_FIRST PRISTINE_BONE_POS_IN_FINAL_FRAME
    End
    
    ;Dugin Conditions
    ConditionState      = REALLYDAMAGED RIDER2
      Model             = EVAvre_D
      Animation         = EVAvre_SKL.EVAvre_DGA
      AnimationMode     = ONCE
      TurretPitch       = TurretEL
      WeaponRecoilBone  = SECONDARY Barrel
      WeaponFireFXBone  = SECONDARY Muzzle
      WeaponLaunchBone  = SECONDARY Muzzle
      WeaponMuzzleFlash = SECONDARY MuzzleFX
      WeaponMuzzleFlash = TERTIARY MzzlMGFX
      Flags             = START_FRAME_LAST PRISTINE_BONE_POS_IN_FINAL_FRAME
      TransitionKey     = TRANS_DAMAGED_IMMOBILE
      WaitForStateToFinishIfPossible = NONE
    End
    AliasConditionState = REALLYDAMAGED RIDER2 NIGHT
    AliasConditionState = REALLYDAMAGED RIDER2 MOVING
    AliasConditionState = REALLYDAMAGED RIDER2 MOVING NIGHT
    AliasConditionState = RUBBLE RIDER2
    AliasConditionState = RUBBLE RIDER2 NIGHT
    
    
    ;Diging in demo charge conditions
   ConditionState       = REALLYDAMAGED RIDER1 PREATTACK_C
      Model             = EVAvre_D
      Animation         = EVAvre_SKL.EVAvre_BDC
      AnimationMode     = ONCE
      Flags             = START_FRAME_FIRST
      WeaponFireFXBone  = SECONDARY MzzlMG
      WeaponLaunchBone  = SECONDARY MzzlMG
      WeaponMuzzleFlash = SECONDARY MzzlMGFX
      WeaponMuzzleFlash = TERTIARY MuzzleFX
      ParticleSysBone   = BLADEDUST DozerDirtFall_Permanent
      WaitForStateToFinishIfPossible = NONE
   End
    AliasConditionState = REALLYDAMAGED RIDER1 PREATTACK_C NIGHT
    
   ConditionState       = REALLYDAMAGED RIDER1 FIRING_C
      Model             = EVAvre_D
      Animation         = EVAvre_SKL.EVAvre_BDD
      AnimationMode     = ONCE_BACKWARDS
      Flags             = START_FRAME_LAST
      WeaponFireFXBone  = SECONDARY MzzlMG
      WeaponLaunchBone  = SECONDARY MzzlMG
      WeaponMuzzleFlash = SECONDARY MzzlMGFX
      WeaponMuzzleFlash = TERTIARY MuzzleFX
      TransitionKey     = TRANS_DAMAGED_DIGGING_BOMB
      ParticleSysBone   = BLADEDUST DozerDirtFall
      WaitForStateToFinishIfPossible = NONE
   End
    AliasConditionState = REALLYDAMAGED RIDER1 FIRING_C NIGHT
    
    
    ;Upgraded with armor skirt
    
    ConditionState = USER_1 RIDER1
      Model             = EVAvre_U1
      Animation         = EVAvre_SKL.EVAvre_MVA
      AnimationMode     = ONCE_BACKWARDS
      Flags             = START_FRAME_LAST
      Turret            = Turret
      WeaponFireFXBone  = SECONDARY MzzlMG
      WeaponLaunchBone  = SECONDARY MzzlMG
      WeaponMuzzleFlash = SECONDARY MzzlMGFX
      WeaponMuzzleFlash = TERTIARY MuzzleFX
      TransitionKey     = TRANS_USER1_MOBILE
      WaitForStateToFinishIfPossible = TRANS_USER1_DIGGING_BOMB
    End
    AliasConditionState = USER_1 RIDER1 NIGHT
    
   ConditionState = USER_1 RIDER1 MOVING
      Model             = EVAvre_U1
      Animation         = EVAvre_SKL.EVAvre_MVA
      AnimationMode     = ONCE
      Flags             = START_FRAME_FIRST
      Turret            = Turret
      WeaponFireFXBone  = SECONDARY MzzlMG
      WeaponLaunchBone  = SECONDARY MzzlMG
      WeaponMuzzleFlash = SECONDARY MzzlMGFX
      WeaponMuzzleFlash = TERTIARY MuzzleFX
      TransitionKey     = TRANS_USER1_MOVING
      WaitForStateToFinishIfPossible = TRANS_USER1_DIGGING_BOMB
    End
    AliasConditionState = USER_1 RIDER1 MOVING NIGHT
    
    ;Transitions between modes
    TransitionState = TRANS_USER1_MOBILE TRANS_USER1_IMMOBILE
      Model             = EVAvre_U1
      Animation         = EVAvre_SKL.EVAvre_DGA
      AnimationMode     = ONCE
      TurretPitch       = TurretEL
      WeaponRecoilBone  = SECONDARY Barrel
      WeaponFireFXBone  = SECONDARY Muzzle
      WeaponLaunchBone  = SECONDARY Muzzle
      WeaponMuzzleFlash = SECONDARY MuzzleFX
      WeaponMuzzleFlash = TERTIARY MzzlMGFX
      Flags             = START_FRAME_FIRST PRISTINE_BONE_POS_IN_FINAL_FRAME
      ParticleSysBone   = BLADEDUST DozerDirtFall
    End

    TransitionState = TRANS_USER1_IMMOBILE TRANS_USER1_MOBILE
      Model             = EVAvre_U1
      Animation         = EVAvre_SKL.EVAvre_DGB
      AnimationMode     = ONCE
      WeaponFireFXBone  = SECONDARY MzzlMG
      WeaponLaunchBone  = SECONDARY MzzlMG
      WeaponMuzzleFlash = SECONDARY MzzlMGFX
      WeaponMuzzleFlash = TERTIARY MuzzleFX
      Flags             = START_FRAME_FIRST PRISTINE_BONE_POS_IN_FINAL_FRAME
    End
    
    TransitionState = TRANS_USER1_MOVING TRANS_USER1_IMMOBILE
      Model             = EVAvre_U1
      Animation         = EVAvre_SKL.EVAvre_DGA
      AnimationMode     = ONCE
      TurretPitch       = TurretEL
      WeaponRecoilBone  = SECONDARY Barrel
      WeaponFireFXBone  = SECONDARY Muzzle
      WeaponLaunchBone  = SECONDARY Muzzle
      WeaponMuzzleFlash = SECONDARY MuzzleFX
      WeaponMuzzleFlash = TERTIARY MzzlMGFX
      Flags             = START_FRAME_FIRST PRISTINE_BONE_POS_IN_FINAL_FRAME
      ParticleSysBone   = BLADEDUST DozerDirtFall
    End

    TransitionState = TRANS_USER1_IMMOBILE TRANS_USER1_MOVING
      Model             = EVAvre_U1
      Animation         = EVAvre_SKL.EVAvre_DGC
      AnimationMode     = ONCE
      WeaponFireFXBone  = SECONDARY MzzlMG
      WeaponLaunchBone  = SECONDARY MzzlMG
      WeaponMuzzleFlash = SECONDARY MzzlMGFX
      WeaponMuzzleFlash = TERTIARY MuzzleFX
      Flags             = START_FRAME_FIRST PRISTINE_BONE_POS_IN_FINAL_FRAME
    End
    
    ;Dugin Conditions
    ConditionState      = USER_1 RIDER2
      Model             = EVAvre_U1
      Animation         = EVAvre_SKL.EVAvre_DGA
      AnimationMode     = ONCE
      TurretPitch       = TurretEL
      WeaponRecoilBone  = SECONDARY Barrel
      WeaponFireFXBone  = SECONDARY Muzzle
      WeaponLaunchBone  = SECONDARY Muzzle
      WeaponMuzzleFlash = SECONDARY MuzzleFX
      WeaponMuzzleFlash = TERTIARY MzzlMGFX
      Flags             = START_FRAME_LAST PRISTINE_BONE_POS_IN_FINAL_FRAME
      TransitionKey     = TRANS_USER1_IMMOBILE
      WaitForStateToFinishIfPossible = NONE
    End
    AliasConditionState = USER_1 RIDER2 NIGHT
    AliasConditionState = USER_1 RIDER2 MOVING
    AliasConditionState = USER_1 RIDER2 MOVING NIGHT
    
    
    ;Diging in demo charge conditions
    ConditionState      = USER_1 RIDER1 PREATTACK_C
      Model             = EVAvre_U1
      Animation         = EVAvre_SKL.EVAvre_BDC
      AnimationMode     = ONCE
      Flags             = START_FRAME_FIRST
      WeaponFireFXBone  = SECONDARY MzzlMG
      WeaponLaunchBone  = SECONDARY MzzlMG
      WeaponMuzzleFlash = SECONDARY MzzlMGFX
      WeaponMuzzleFlash = TERTIARY MuzzleFX
      ParticleSysBone   = BLADEDUST DozerDirtFall_Permanent
      WaitForStateToFinishIfPossible = NONE
    End
    AliasConditionState = USER_1 RIDER1 PREATTACK_C NIGHT
    
    ConditionState      = USER_1 RIDER1 FIRING_C
      Model             = EVAvre_U1
      Animation         = EVAvre_SKL.EVAvre_BDD
      AnimationMode     = ONCE_BACKWARDS
      Flags             = START_FRAME_LAST
      WeaponFireFXBone  = SECONDARY MzzlMG
      WeaponLaunchBone  = SECONDARY MzzlMG
      WeaponMuzzleFlash = SECONDARY MzzlMGFX
      WeaponMuzzleFlash = TERTIARY MuzzleFX
      TransitionKey     = TRANS_USER1_DIGGING_BOMB
      ParticleSysBone   = BLADEDUST DozerDirtFall
      WaitForStateToFinishIfPossible = NONE
    End
    AliasConditionState = USER_1 RIDER1 FIRING_C NIGHT
    
    
    
    ;Reallydamaged conditions
    ConditionState      = REALLYDAMAGED USER_1 RIDER1
      Model             = EVAvre_DU1
      Animation         = EVAvre_SKL.EVAvre_MVA
      AnimationMode     = ONCE_BACKWARDS
      Flags             = START_FRAME_LAST
      Turret            = Turret
      WeaponFireFXBone  = SECONDARY MzzlMG
      WeaponLaunchBone  = SECONDARY MzzlMG
      WeaponMuzzleFlash = SECONDARY MzzlMGFX
      WeaponMuzzleFlash = TERTIARY MuzzleFX
      TransitionKey     = TRANS_USER1_DAMAGED_MOBILE
      WaitForStateToFinishIfPossible = TRANS_USER1_DAMAGED_DIGGING_BOMB
    End
    AliasConditionState = REALLYDAMAGED USER_1 RIDER1 NIGHT
    AliasConditionState = RUBBLE USER_1 RIDER1
    AliasConditionState = RUBBLE USER_1 RIDER1 NIGHT
    
    ConditionState = REALLYDAMAGED USER_1 RIDER1 MOVING
      Model             = EVAvre_DU1
      Animation         = EVAvre_SKL.EVAvre_MVA
      AnimationMode     = ONCE
      Flags             = START_FRAME_FIRST
      Turret            = Turret
      WeaponFireFXBone  = SECONDARY MzzlMG
      WeaponLaunchBone  = SECONDARY MzzlMG
      WeaponMuzzleFlash = SECONDARY MzzlMGFX
      WeaponMuzzleFlash = TERTIARY MuzzleFX
      TransitionKey     = TRANS_USER1_DAMAGED_MOVING
      WaitForStateToFinishIfPossible = TRANS_USER1_DAMAGED_DIGGING_BOMB
    End
    AliasConditionState = REALLYDAMAGED USER_1 RIDER1 MOVING NIGHT
    
    ;Transitions between modes
    TransitionState = TRANS_USER1_DAMAGED_MOBILE TRANS_USER1_DAMAGED_IMMOBILE
      Model             = EVAvre_DU1
      Animation         = EVAvre_SKL.EVAvre_DGA
      AnimationMode     = ONCE
      TurretPitch       = TurretEL
      WeaponRecoilBone  = SECONDARY Barrel
      WeaponFireFXBone  = SECONDARY Muzzle
      WeaponLaunchBone  = SECONDARY Muzzle
      WeaponMuzzleFlash = SECONDARY MuzzleFX
      WeaponMuzzleFlash = TERTIARY MzzlMGFX
      Flags             = START_FRAME_FIRST PRISTINE_BONE_POS_IN_FINAL_FRAME
      ParticleSysBone   = BLADEDUST DozerDirtFall
    End

    TransitionState = TRANS_USER1_DAMAGED_IMMOBILE TRANS_USER1_DAMAGED_MOBILE
      Model             = EVAvre_DU1
      Animation         = EVAvre_SKL.EVAvre_DGB
      AnimationMode     = ONCE
      WeaponFireFXBone  = SECONDARY MzzlMG
      WeaponLaunchBone  = SECONDARY MzzlMG
      WeaponMuzzleFlash = SECONDARY MzzlMGFX
      WeaponMuzzleFlash = TERTIARY MuzzleFX
      Flags             = START_FRAME_FIRST PRISTINE_BONE_POS_IN_FINAL_FRAME
    End
    
    TransitionState = TRANS_USER1_DAMAGED_MOVING TRANS_USER1_DAMAGED_IMMOBILE
      Model             = EVAvre_DU1
      Animation         = EVAvre_SKL.EVAvre_DGA
      AnimationMode     = ONCE
      TurretPitch       = TurretEL
      WeaponRecoilBone  = SECONDARY Barrel
      WeaponFireFXBone  = SECONDARY Muzzle
      WeaponLaunchBone  = SECONDARY Muzzle
      WeaponMuzzleFlash = SECONDARY MuzzleFX
      WeaponMuzzleFlash = TERTIARY MzzlMGFX
      Flags             = START_FRAME_FIRST PRISTINE_BONE_POS_IN_FINAL_FRAME
      ParticleSysBone   = BLADEDUST DozerDirtFall
    End

    TransitionState = TRANS_USER1_DAMAGED_IMMOBILE TRANS_USER1_DAMAGED_MOVING
      Model             = EVAvre_DU1
      Animation         = EVAvre_SKL.EVAvre_DGC
      AnimationMode     = ONCE
      WeaponFireFXBone  = SECONDARY MzzlMG
      WeaponLaunchBone  = SECONDARY MzzlMG
      WeaponMuzzleFlash = SECONDARY MzzlMGFX
      WeaponMuzzleFlash = TERTIARY MuzzleFX
      Flags             = START_FRAME_FIRST PRISTINE_BONE_POS_IN_FINAL_FRAME
    End
    
    ;Dugin Conditions
    ConditionState      = REALLYDAMAGED USER_1 RIDER2
      Model             = EVAvre_DU1
      Animation         = EVAvre_SKL.EVAvre_DGA
      AnimationMode     = ONCE
      TurretPitch       = TurretEL
      WeaponRecoilBone  = SECONDARY Barrel
      WeaponFireFXBone  = SECONDARY Muzzle
      WeaponLaunchBone  = SECONDARY Muzzle
      WeaponMuzzleFlash = SECONDARY MuzzleFX
      WeaponMuzzleFlash = TERTIARY MzzlMGFX
      Flags             = START_FRAME_LAST PRISTINE_BONE_POS_IN_FINAL_FRAME
      TransitionKey     = TRANS_USER1_DAMAGED_IMMOBILE
      WaitForStateToFinishIfPossible = NONE
    End
    AliasConditionState = REALLYDAMAGED USER_1 RIDER2 NIGHT
    AliasConditionState = REALLYDAMAGED USER_1 RIDER2 MOVING
    AliasConditionState = REALLYDAMAGED USER_1 RIDER2 MOVING NIGHT
    AliasConditionState = RUBBLE USER_1 RIDER2
    AliasConditionState = RUBBLE USER_1 RIDER2 NIGHT
    
    
    ;Diging in demo charge conditions
    ConditionState       = REALLYDAMAGED USER_1 RIDER1 PREATTACK_C
      Model             = EVAvre_DU1
      Animation         = EVAvre_SKL.EVAvre_BDC
      AnimationMode     = ONCE
      Flags             = START_FRAME_FIRST
      WeaponFireFXBone  = SECONDARY MzzlMG
      WeaponLaunchBone  = SECONDARY MzzlMG
      WeaponMuzzleFlash = SECONDARY MzzlMGFX
      WeaponMuzzleFlash = TERTIARY MuzzleFX
      ParticleSysBone   = BLADEDUST DozerDirtFall_Permanent
      WaitForStateToFinishIfPossible = NONE
    End
    AliasConditionState = REALLYDAMAGED USER_1 RIDER1 PREATTACK_C NIGHT
    
    ConditionState       = REALLYDAMAGED USER_1 RIDER1 FIRING_C
      Model             = EVAvre_DU1
      Animation         = EVAvre_SKL.EVAvre_BDD
      AnimationMode     = ONCE_BACKWARDS
      Flags             = START_FRAME_LAST
      WeaponFireFXBone  = SECONDARY MzzlMG
      WeaponLaunchBone  = SECONDARY MzzlMG
      WeaponMuzzleFlash = SECONDARY MzzlMGFX
      WeaponMuzzleFlash = TERTIARY MuzzleFX
      TransitionKey     = TRANS_USER1_DAMAGED_DIGGING_BOMB
      ParticleSysBone   = BLADEDUST DozerDirtFall
      WaitForStateToFinishIfPossible = NONE
    End
    AliasConditionState = REALLYDAMAGED USER_1 RIDER1 FIRING_C NIGHT
    
    TrackMarks              = EXTnkTrack.tga
    TreadAnimationRate      = 2.0  ; amount of tread texture to move per second
    TreadDriveSpeedFraction = 0.3  ; fraction of locomotor speed below which treads stop moving.
    TreadPivotSpeedFraction = 0.6  ; fraction of locomotor speed below which we allow pivoting.
  End
  
  
  Draw                      = W3DModelDraw ModuleTag_DirtPatch01
    
    DefaultConditionState
      Model               = NONE
      TransitionKey       = TRANS_MOBILE
    End
    AliasConditionState = RIDER1
    AliasConditionState = RIDER1 NIGHT
    
    ;Transitions between modes
    TransitionState       = TRANS_MOBILE TRANS_IMMOBILE
      Model               = EVAvre_Dirt
      Animation           = EVAvre_Dirt.EVAvre_Dirt
      AnimationMode       = ONCE
      Flags               = START_FRAME_FIRST
    End

    TransitionState       = TRANS_IMMOBILE TRANS_MOBILE
      Model               = EVAvre_Dirt
      Animation           = EVAvre_Dirt.EVAvre_Dirt
      AnimationMode       = ONCE_BACKWARDS
      Flags               = START_FRAME_LAST
      AnimationSpeedFactorRange = 1.5 1.5
    End
    
    ;Dugin Conditions
    ConditionState        = RIDER2
      Model               = EVAvre_Dirt
      Animation           = EVAvre_Dirt.EVAvre_Dirt
      AnimationMode       = ONCE
      Flags               = START_FRAME_LAST
      TransitionKey       = TRANS_IMMOBILE
    End
    AliasConditionState = RIDER2 NIGHT
    
    
    
    ConditionState        = REALLYDAMAGED
      Model               = NONE
      TransitionKey       = TRANS_DAMAGED_MOBILE
    End
    AliasConditionState = REALLYDAMAGED RIDER1
    AliasConditionState = REALLYDAMAGED RIDER1 NIGHT
    
    ;Transitions between modes
    TransitionState       = TRANS_DAMAGED_MOBILE TRANS_DAMAGED_IMMOBILE
      Model               = EVAvre_Dirt_D
      Animation           = EVAvre_Dirt_D.EVAvre_Dirt_D
      AnimationMode       = ONCE
      Flags               = START_FRAME_FIRST
    End

    TransitionState       = TRANS_DAMAGED_IMMOBILE TRANS_DAMAGED_MOBILE
      Model               = EVAvre_Dirt_D
      Animation           = EVAvre_Dirt_D.EVAvre_Dirt_D
      AnimationMode       = ONCE_BACKWARDS
      Flags               = START_FRAME_LAST
      AnimationSpeedFactorRange = 1.5 1.5
    End
    
    ;Dugin Conditions
    ConditionState        = REALLYDAMAGED RIDER2
      Model               = EVAvre_Dirt_D
      Animation           = EVAvre_Dirt_D.EVAvre_Dirt_D
      AnimationMode       = ONCE
      Flags               = START_FRAME_LAST
      TransitionKey       = TRANS_DAMAGED_IMMOBILE
    End
    AliasConditionState = REALLYDAMAGED RIDER2 NIGHT
    
    
    
    ConditionState        = SNOW
      Model               = NONE
      TransitionKey       = TRANS_SNOW_MOBILE
    End
    AliasConditionState = SNOW RIDER1
    AliasConditionState = SNOW RIDER1 NIGHT
    
    ;Transitions between modes
    TransitionState       = TRANS_SNOW_MOBILE TRANS_SNOW_IMMOBILE
      Model               = EVAvre_Dirt_S
      Animation           = EVAvre_Dirt_S.EVAvre_Dirt_S
      AnimationMode       = ONCE
      Flags               = START_FRAME_FIRST
    End

    TransitionState       = TRANS_SNOW_IMMOBILE TRANS_SNOW_MOBILE
      Model               = EVAvre_Dirt_S
      Animation           = EVAvre_Dirt_S.EVAvre_Dirt_S
      AnimationMode       = ONCE_BACKWARDS
      Flags               = START_FRAME_LAST
      AnimationSpeedFactorRange = 1.5 1.5
    End
    
    ;Dugin Conditions
    ConditionState        = SNOW RIDER2
      Model               = EVAvre_Dirt_S
      Animation           = EVAvre_Dirt_S.EVAvre_Dirt_S
      AnimationMode       = ONCE
      Flags               = START_FRAME_LAST
      TransitionKey       = TRANS_SNOW_IMMOBILE
    End
    AliasConditionState = SNOW RIDER2 NIGHT
    
    
    
    ConditionState        = SNOW REALLYDAMAGED
      Model               = NONE
      TransitionKey       = TRANS_DAMAGED_SNOW_MOBILE
    End
    AliasConditionState = SNOW REALLYDAMAGED RIDER1
    AliasConditionState = SNOW REALLYDAMAGED RIDER1 NIGHT
    
    ;Transitions between modes
    TransitionState       = TRANS_DAMAGED_SNOW_MOBILE TRANS_DAMAGED_SNOW_IMMOBILE
      Model               = EVAvre_Dirt_SD
      Animation           = EVAvre_Dirt_SD.EVAvre_Dirt_SD
      AnimationMode       = ONCE
      Flags               = START_FRAME_FIRST
    End

    TransitionState       = TRANS_DAMAGED_SNOW_IMMOBILE TRANS_DAMAGED_SNOW_MOBILE
      Model               = EVAvre_Dirt_SD
      Animation           = EVAvre_Dirt_SD.EVAvre_Dirt_SD
      AnimationMode       = ONCE_BACKWARDS
      Flags               = START_FRAME_LAST
      AnimationSpeedFactorRange = 1.5 1.5
    End
    
    ;Dugin Conditions
    ConditionState        = SNOW REALLYDAMAGED RIDER2
      Model               = EVAvre_Dirt_SD
      Animation           = EVAvre_Dirt_SD.EVAvre_Dirt_SD
      AnimationMode       = ONCE
      Flags               = START_FRAME_LAST
      TransitionKey       = TRANS_DAMAGED_SNOW_IMMOBILE
    End
    AliasConditionState = SNOW REALLYDAMAGED RIDER2 NIGHT
    
  End

  ; ***DESIGN parameters ***
  DisplayName           = OBJECT:Warhound
  Side                  = Europe
  EditorSorting         = VEHICLE
  TransportSlotCount    = 3                 ;how many "slots" we take in a transport (0 == not transportable)

  WeaponSet
    Conditions = WEAPON_RIDER1
    Weapon              = SECONDARY  WarhoundMachinegunWeapon
    Weapon              = TERTIARY   WarhoundMachineDiginExplosiveChargeWeapon
    AutoChooseSources   = TERTIARY   NONE
  End

  WeaponSet
    Conditions = WEAPON_RIDER1 HERO
    Weapon              = SECONDARY  WarhoundMachinegunHeroicWeapon
    Weapon              = TERTIARY   WarhoundMachineDiginExplosiveChargeWeapon
    AutoChooseSources   = TERTIARY   NONE
  End

  WeaponSet
    Conditions = WEAPON_RIDER2 
    Weapon              = PRIMARY   WarhoundMortarCannonDummyWeapon
    AutoChooseSources   = PRIMARY   NONE
    Weapon              = SECONDARY WarhoundMortarCannonWeapon
  End

  WeaponSet
    Conditions = WEAPON_RIDER2  HERO
    Weapon              = PRIMARY   WarhoundMortarCannonDummyWeapon
    AutoChooseSources   = PRIMARY   NONE
    Weapon              = SECONDARY WarhoundMortarCannonWeapon
  End
  
  ArmorSet
    Conditions      = None
    Armor           = WarhoundTankArmor
    DamageFX        = TankDamageFX
  End
  
  Prerequisites
    Object = EuropeFieldCommand
  End
  
  BuildCost       = 1000
  BuildTime       = 10.0          ;in seconds    
  VisionRange     = 220
  ShroudClearingRange = 200
  
  ExperienceValue    = 80 80 150 300    ;Experience point value at each level
  ExperienceRequired = 0 200 300 600    ;Experience points needed to gain each level
  IsTrainable = Yes             ;Can gain experience
  CrusherLevel           = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel         = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles

  ; *** AUDIO Parameters ***
  VoiceSelect           = WarhoundVoiceSelect
  VoiceMove             = WarhoundVoiceMove
  VoiceGuard            = WarhoundVoiceMove
  VoiceAttack           = WarhoundVoiceAttack
  SoundMoveStart        = WarhoundMoveStart
  SoundMoveStartDamaged = WarhoundMoveStart

  UnitSpecificSounds
    VoiceCreate         = WarhoundVoiceCreate
    VoiceCrush          = WarhoundVoiceMove
    VoiceEnter          = WarhoundVoiceMove
    VoiceFlameLocation  = WarhoundVoicePlaceDemolitionCharge
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE SCORE TRANSPORT FS_BASE_DEFENSE CANNOT_RETALIATE SALVAGER

  Body = ActiveBody ModuleTag_02
    MaxHealth       = 200.0
    InitialHealth   = 200.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 1200
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End

  Behavior = TransportAIUpdate ModuleTag_03
    Turret
      ControlledWeaponSlots = PRIMARY SECONDARY
      TurretTurnRate        = 100
      TurretPitchRate       = 100
      FirePitch             = 20
      AllowsPitch           = Yes
      MinIdleScanAngle      = 10
      MaxIdleScanAngle      = 40
      MinIdleScanInterval   = 5000
      MaxIdleScanInterval   = 10000
    End
    TurretsLinked = Yes
    AutoAcquireEnemiesWhenIdle = Yes
    MoodAttackCheckRate = 33
  End  
  Locomotor = SET_NORMAL WarhoundLocomotor
  Locomotor = SET_SUPERSONIC GuardianDroneDugInLocomotor
  
  Behavior = PhysicsBehavior ModuleTag_04
    Mass = 50.0
  End
  
  
  
  ;*************************************
  ;******Transformation Code Start******
  ;*************************************
  
  Behavior = RiderChangeContain ModuleTag_Transform01

    ;Standard mode
    Rider1 = GenericFakeRider1_Default_Rank RIDER1 WEAPON_RIDER1 STATUS_RIDER1 EuropeTankWarhoundMobileCommandSet SET_NORMAL
    
    ;Dugin mode
    Rider2 = GenericFakeRider2_Default_Rank RIDER2 WEAPON_RIDER2 STATUS_RIDER2 EuropeTankWarhoundDuginCommandSet  SET_SUPERSONIC
    
    ;Standard mode Dummy Mode
    Rider3 = GenericFakeRider3_Default_Rank RIDER1 WEAPON_RIDER1 STATUS_RIDER1 EuropeTankWarhoundMobileAlternativeCommandset SET_NORMAL
    
    ;Dugin mode Dummy Mode
    Rider4 = GenericFakeRider4_Default_Rank RIDER2 WEAPON_RIDER2 STATUS_RIDER2 EuropeTankWarhoundDuginAlternativeCommandSet  SET_SUPERSONIC
    
    ;We start with this rider that has the mobile button disabled permanently then once we get out of our digout position we switch to rider 1 and never use this again
    Rider5 = GenericFakeRider5_Default_Rank RIDER1 WEAPON_RIDER1 STATUS_RIDER1 EuropeTankWarhoundMobileDummyCommandset SET_NORMAL
    
    
    ;Standard TransportContain stuff
    Slots                 = 1
    InitialPayload        = GenericFakeRider5_Default_Rank 1
    DamagePercentToUnits  = 100%
    BurnedDeathToUnits    = No
    AllowInsideKindOf     = CAN_ATTACK
    ScuttleDelay          = 100
    ScuttleStatus         = TOPPLED
  End  
  
  Behavior = ProductionUpdate  ModuleTag_Transform02
    MaxQueueEntries = 1; So you can't build multiple upgrades in the same frame
  End
  
  Behavior = FireWeaponUpdate ModuleTag_Transform03
    Weapon = GenericCollisionDummyWeapon
  End
  
  ;Unique out of the factory or respawn triggers
  
  ;the intial rider dissables all abbilities (safe fore the demolition charge) but after timer on this module expires it switches to a different one.
  Behavior = FireWeaponUpdate ModuleTag_Transform04
    Weapon = WarhoundSwitchToMobileModeAlternative
    InitialDelay = 6000
  End
  
  ;This module is required to make the dummy buttons unaccesable and nothing more than that.
  Behavior = ObjectCreationUpgrade ModuleTag_Transform05
    TriggeredBy   = Upgrade_GLAWorkerWorthlessCommandSet
    ConflictsWith = Upgrade_CostReduction
    UpgradeObject = OCL_RussiaTargetingSatelliteTimerDummy
  End
  
  ;this status is purely required for when this unit rolls out of the factory to dissable some triggers from breaking things.
  Behavior = StatusBitsUpgrade ModuleTag_Transform06
    TriggeredBy   = Upgrade_CostReduction
    StatusToSet   = STATUS_RIDER6
  End
  
  ;this is a module using the above status to trigger once the Warhound is dugin
  Behavior = FireWeaponCollide  ModuleTag_Transform07
    CollideWeapon   = WarhoundSwitchToDiginModeAlternative
    RequiredStatus  = STATUS_RIDER6 STATUS_RIDER1 STATUS_RIDER7
  End
  
  ;this module triggers a timer 6 seconds after beeing dugin to enable the undig button but only does this once.
  ;afterwards the modules below are used for everything and these are no longer used.
  Behavior = FireWeaponCollide  ModuleTag_Transform08
    CollideWeapon   = WarhoundSwitchToDiginMode
    RequiredStatus  = STATUS_RIDER6 STATUS_RIDER2 STATUS_RIDER7 USING_ABILITY
    ForbiddenStatus = STATUS_RIDER4
  End

  ;Primary Unit Mode Triggers
  
  Behavior = FireWeaponCollide ModuleTag_Transform09
    CollideWeapon   = WarhoundSwitchToMobileMode
    RequiredStatus  = STATUS_RIDER2 STATUS_RIDER8
  End

  Behavior = ObjectCreationUpgrade ModuleTag_Transform10
    UpgradeObject   = OCL_WarhoundMobileMode
    TriggeredBy     = Upgrade_GLAWorkerRealCommandSet
    FXListUpgrade   = FX_GuardianDronePopoutofGround
    RequiresAllTriggers = Yes
  End 
  
  Behavior = StatusBitsUpgrade ModuleTag_Transform11
    TriggeredBy   = Upgrade_GLAWorkerRealCommandSet
    StatusToSet   = STATUS_RIDER8
    StatusToClear = STATUS_RIDER7
  End
  
  Behavior = StatusBitsUpgrade ModuleTag_Transform12
    TriggeredBy   = Upgrade_GLAWorkerRealCommandSet
    StatusToSet   = STATUS_RIDER4
    StatusToClear = STATUS_RIDER6
  End
  
  Behavior = MaxHealthUpgrade ModuleTag_Transform13
    TriggeredBy   = Upgrade_GLAWorkerRealCommandSet
    AddMaxHealth  = -400.0 ; And remove them when i come back out
    ChangeType    = PRESERVE_RATIO
  End
  
  ;Secondary Unit Mode Triggers
  
  Behavior = FireWeaponCollide  ModuleTag_Transform14
    CollideWeapon   = WarhoundSwitchToDiginMode
    RequiredStatus  = STATUS_RIDER1 STATUS_RIDER7
    ForbiddenStatus = STATUS_RIDER6
  End
  
  Behavior = ObjectCreationUpgrade ModuleTag_Transform15
    UpgradeObject   = OCL_WarhoundDuginMode
    TriggeredBy     = Upgrade_GLAWorkerFakeCommandSet
    FXListUpgrade   = FX_GuardianDroneDigInGround
    RequiresAllTriggers = No
  End 
  
  Behavior = StatusBitsUpgrade ModuleTag_Transform16
    TriggeredBy   = Upgrade_GLAWorkerFakeCommandSet
    StatusToSet   = STATUS_RIDER7
    StatusToClear = STATUS_RIDER8
  End

  Behavior = MaxHealthUpgrade ModuleTag_Transform17
    TriggeredBy   = Upgrade_GLAWorkerFakeCommandSet
    AddMaxHealth  = 400.0 ; Give me 400 more hit points when dug in
    ChangeType    = PRESERVE_RATIO
    RequiresAllTriggers = No
  End
  
  ;Additional Triggers and Upgrades
  
  Behavior = FireWeaponCollide ModuleTag_Transform18
    CollideWeapon  = WarhoundDuginCollisionDummyWeapon
    RequiredStatus = STATUS_RIDER2
  End
  
  Behavior = FireWeaponCollide ModuleTag_Transform19
    CollideWeapon  = WarhoundRepairVehicleWeapon
    RequiredStatus = STATUS_RIDER2
  End

  Behavior = FireWeaponCollide ModuleTag_Transform20
    CollideWeapon  = WarhoundRepairDecalWeapon
    RequiredStatus = STATUS_RIDER2
  End
  
  Behavior = StatusBitsUpgrade ModuleTag_Transform21
    TriggeredBy   = Upgrade_EuropeBuildingRepair
    StatusToSet   = DEPLOYED
  End
  
  Behavior = FireWeaponCollide ModuleTag_Transform22
    CollideWeapon  = WarhoundRepairBuildingWeapon
    RequiredStatus = STATUS_RIDER2 DEPLOYED
  End
  
  ;************************************
  ;******Transformation Code End*******
  ;************************************

  Behavior = ModelConditionUpgrade ModuleTag_ArmorSkirt01
    ConditionFlag = USER_1
    TriggeredBy   = Upgrade_EuropeArmorSkirts
  End
  
  Behavior = MaxHealthUpgrade ModuleTag_ArmorSkirt02
    TriggeredBy   = Upgrade_EuropeArmorSkirts
    AddMaxHealth  = 100.0
    ChangeType    = ADD_CURRENT_HEALTH_TOO
  End

  Behavior = CreateCrateDie ModuleTag_07
    CrateData = SalvageCrateData
  End
  
  Behavior                 = TransitionDamageFX ModuleTag_08
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmallLightSmokeColumn
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
  End
  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Behavior = PointDefenseLaserUpdate ModuleTag_AntiPersonnelGrenade01
    WeaponTemplate        = EuropeVehicleAntiPersonnelGrenadeLaunchWeapon
    PrimaryTargetTypes    = INFANTRY
    ScanRate              = 600
    ScanRange             = 80.0
    PredictTargetVelocityFactor = 3.0
  End
  
  Behavior = StealthUpdate ModuleTag_GPSStealth01
    StealthDelay                = 2000 ; msec
    StealthForbiddenConditions  = FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
    InnateStealth               = Yes
    RequiredStatus              = REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
    OrderIdleEnemiesToAttackMeUponReveal  = Yes
  End

  Behavior = SlowDeathBehavior ModuleTag_Death01
    RequiredStatus = STATUS_RIDER1
    DeathTypes = ALL -CRUSHED -SPLATTED -TOPPLED -EXTRA_7
    DestructionDelay = 33
    FX  = INITIAL  FX_CrusaderCatchFire
    FX  = FINAL    FX_GenericTankDeathExplosion 
    OCL = FINAL    OCL_EuropeTankWarhoundDebris
  End

  Behavior = SlowDeathBehavior ModuleTag_Death02
    RequiredStatus = STATUS_RIDER2
    DeathTypes = ALL -CRUSHED -SPLATTED -TOPPLED -EXTRA_7
    DestructionDelay = 33
    FX  = INITIAL  FX_CrusaderCatchFire
    FX  = FINAL    FX_GenericTankDeathExplosion
    OCL = FINAL    OCL_EuropeTankWarhoundDuginDebris
  End
  
  Behavior = DestroyDie ModuleTag_11
    DeathTypes = NONE +CRUSHED +SPLATTED +TOPPLED +EXTRA_7
  End
  
  Behavior = FXListDie ModuleTag_09
    DeathTypes = NONE +CRUSHED +SPLATTED -TOPPLED -EXTRA_7
    DeathFX = FX_CarCrush
  End

  Behavior = EjectPilotDie ModuleTag_HijackerEmerge01
    DeathTypes = ALL -CRUSHED -SPLATTED -TOPPLED -EXTRA_7
    RequiredStatus = HIJACKED
    VeterancyLevels =  ALL
    GroundCreationList = OCL_HijackerEmerge
    AirCreationList = OCL_HijackerEmergeViaParachute
  End
  
  Behavior = FXListDie ModuleTag_HijackerEmerge02
    RequiredStatus = HIJACKED
    DeathTypes = ALL -CRUSHED -SPLATTED -TOPPLED -EXTRA_7
    DeathFX = FX_HijackerEmerge
  End

  Behavior = CreateObjectDie ModuleTag_1052352412
    DeathTypes = NONE +TOPPLED +EXTRA_7
    ExemptStatus = STATUS_RIDER2
    CreationList = OCL_WarhoundNerveGasKill
    TransferPreviousHealth = Yes
  End

  Behavior = CreateObjectDie ModuleTag_105235
    DeathTypes = NONE +TOPPLED +EXTRA_7
    ExemptStatus = STATUS_RIDER1
    CreationList = OCL_WarhoundDuginNerveGasKill
    TransferPreviousHealth = Yes
  End
  
  Geometry               = BOX
  GeometryMajorRadius    = 18.0
  GeometryMinorRadius    = 10.0
  GeometryHeight         = 10.0
  GeometryIsSmall        = Yes
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object WarhoundDeployedStructureDummyCollision
 
  ; ***DESIGN parameters ***
  Side                = Europe
  EditorSorting       = SYSTEM

  ArmorSet
    Conditions        = None
    Armor             = InvulnerableArmorAll
    DamageFX          = DamageFX_Empty
  End
  
  ; *** ENGINEERING Parameters ***
  KindOf               = PRELOAD IMMOBILE CAN_SEE_THROUGH_STRUCTURE STICK_TO_TERRAIN_SLOPE UNATTACKABLE
  
  Body                 = StructureBody ModuleTag_05
    MaxHealth          = 600.0
    InitialHealth      = 600.0
  End

  Behavior = DeletionUpdate ModuleTag_032512
    MinLifetime = 150
    MaxLifetime = 150
  End
  
  Behavior = DestroyDie ModuleTag_11
  End

  Geometry             = BOX
  GeometryMajorRadius  = 19.0
  GeometryMinorRadius  = 11.0
  GeometryHeight       = 5.0
  GeometryIsSmall      = No
  Shadow               = SHADOW_VOLUME
  BuildCompletion      = PLACED_BY_PLAYER

End

;------------------------------------------------------------------------------
Object EuropeTankWarhoundUnmanned

  ; *** ART Parameters ***
  SelectPortrait         = SEWarhound_L
  ButtonImage            = SEWarhound
  
  UpgradeCameo1 = Upgrade_EuropeClusterMunitions
  UpgradeCameo2 = Upgrade_EuropeBuildingRepair
  ;UpgradeCameo3 = NONE
  ;UpgradeCameo4 = NONE
  ;UpgradeCameo5 = NONE
  
  Draw = W3DTankDraw ModuleTag_01
  
    OkToChangeModelColor = Yes
    MaxRecoilDistance    = 1.0
    ParticlesAttachedToAnimatedBones = Yes 

    DefaultConditionState 
      Model             = EVAvre
      Animation         = EVAvre_SKL.EVAvre_MVA
      AnimationMode     = ONCE
      Flags             = START_FRAME_LAST
      Turret            = Turret
      WeaponFireFXBone  = SECONDARY MzzlMG
      WeaponLaunchBone  = SECONDARY MzzlMG
      WeaponMuzzleFlash = SECONDARY MzzlMGFX
      WeaponMuzzleFlash = TERTIARY  MuzzleFX
    End
    AliasConditionState = NIGHT

    ConditionState = REALLYDAMAGED
      Model             = EVAvre_D
      Animation         = EVAvre_SKL.EVAvre_MVA
      AnimationMode     = ONCE
      Flags             = START_FRAME_LAST
      Turret            = Turret
      WeaponFireFXBone  = SECONDARY MzzlMG
      WeaponLaunchBone  = SECONDARY MzzlMG
      WeaponMuzzleFlash = SECONDARY MzzlMGFX
      WeaponMuzzleFlash = TERTIARY  MuzzleFX
    End
    AliasConditionState = REALLYDAMAGED NIGHT

  End
  
  ; ***DESIGN parameters ***
  DisplayName            = OBJECT:Warhound
  Side                   = Europe
  EditorSorting          = SYSTEM
  TransportSlotCount     = 3

  
  WeaponSet
    Conditions           = NONE
    Weapon               = PRIMARY   SuicideUnresistableWeapon
  End
  
  ArmorSet
    Conditions           = None
    Armor                = TankArmor
    DamageFX             = UnmannedTankDamageFX
  End

  VisionRange            = 200
  ShroudClearingRange = 200


  IsTrainable            = No
  CrusherLevel           = 2               ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel         = 2               ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  
  ; *** ENGINEERING Parameters ***
  RadarPriority          = UNIT
  KindOf                 = PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE
  
  Body                   = ActiveBody ModuleTag_02
    MaxHealth       = 200.0
    InitialHealth   = 200.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 600
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End

  Behavior = AIUpdateInterface ModuleTag_03
    AutoAcquireEnemiesWhenIdle = No
  End
  Locomotor            = SET_NORMAL   FreeFallLocomotor
  
  Behavior = PhysicsBehavior ModuleTag_04
    Mass                 = 50.0
  End
  
  ; Turret fly off death
  Behavior = SlowDeathBehavior ModuleTag_10
    DeathTypes = ALL -CRUSHED -SPLATTED -SUICIDED
    DestructionDelay = 100
    DestructionDelayVariance = 300
    FX  = INITIAL  FX_CrusaderCatchFire
    FX  = FINAL    FX_GenericTankDeathExplosion 
    OCL = FINAL    OCL_EuropeTankWarhoundDebris  
  End

  Behavior = CreateCrateDie ModuleTag_salvage01
    CrateData = SalvageCrateData
  End

  Behavior                 = TransitionDamageFX ModuleTag_12
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmallLightSmokeColumn
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
  End

  Behavior = DestroyDie ModuleTag_11
    DeathTypes = NONE +CRUSHED +SPLATTED +SUICIDED
  End

  ; A crushing defeat
  Behavior = FXListDie ModuleTag_14
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End

  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Behavior       = OCLUpdate ModuleTag_Respawn01 ; Context window is a reaction to this, no CommandSet 
    MinDelay     = 100
    MaxDelay     = 100
    CreateAtEdge = Yes ; as opposed to just creating on self

    FactionTriggered = Yes ; This requires a controlling player before it works
    
    FactionOCL   = Faction:America                   OCL:OCL_SkyShieldShellExplosionDetonationEffect
    FactionOCL   = Faction:China                     OCL:OCL_SkyShieldShellExplosionDetonationEffect
    FactionOCL   = Faction:GLA                       OCL:OCL_SkyShieldShellExplosionDetonationEffect
    FactionOCL   = Faction:AmericaLaserGeneral       OCL:OCL_SkyShieldShellExplosionDetonationEffect
    FactionOCL   = Faction:AmericaSuperWeaponGeneral OCL:OCL_SkyShieldShellExplosionDetonationEffect
  End
  
  Behavior = CreateObjectDie ModuleTag_Respawn02
    DeathTypes = NONE +SUICIDED
    CreationList = OCL_WarhoundNerveGasKillRespawn
    TransferPreviousHealth = Yes
  End
  
  Geometry               = BOX
  GeometryMajorRadius    = 18.0
  GeometryMinorRadius    = 10.0
  GeometryHeight         = 10.0     
  GeometryIsSmall        = Yes    
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 45
  
End

;------------------------------------------------------------------------------
Object EuropeTankWarhoundDugInUnmanned

  ; *** ART Parameters ***
  SelectPortrait         = SEWarhound_L
  ButtonImage            = SEWarhound
  
  UpgradeCameo1 = Upgrade_EuropeClusterMunitions
  UpgradeCameo2 = Upgrade_EuropeBuildingRepair
  ;UpgradeCameo3 = NONE
  ;UpgradeCameo4 = NONE
  ;UpgradeCameo5 = NONE
  
  Draw = W3DTankDraw ModuleTag_01
  
    OkToChangeModelColor = Yes

    DefaultConditionState 
      Model             = EVAvre
      Animation         = EVAvre_SKL.EVAvre_DGB
      AnimationMode     = ONCE
      Turret            = Turret
      WeaponFireFXBone  = SECONDARY MzzlMG
      WeaponLaunchBone  = SECONDARY MzzlMG
      WeaponMuzzleFlash = SECONDARY MzzlMGFX
      WeaponMuzzleFlash = TERTIARY  MuzzleFX
    End
    AliasConditionState = NIGHT

    ConditionState = REALLYDAMAGED
      Model             = EVAvre_D
    End
    AliasConditionState = REALLYDAMAGED NIGHT

  End
  
  Draw                      = W3DModelDraw ModuleTag_DirtPatch01
    
    ConditionState = NONE
      Model               = EVAvre_Dirt
      Animation           = EVAvre_Dirt.EVAvre_Dirt
      AnimationMode       = ONCE_BACKWARDS
      Flags               = START_FRAME_LAST
      AnimationSpeedFactorRange = 1.5 1.5
    End
    
    ConditionState        = REALLYDAMAGED
      Model               = EVAvre_Dirt_D
      Animation           = EVAvre_Dirt_D.EVAvre_Dirt_D
      AnimationMode       = ONCE_BACKWARDS
      Flags               = START_FRAME_LAST
      AnimationSpeedFactorRange = 1.5 1.5
    End
    
    ConditionState        = SNOW
      Model               = EVAvre_Dirt_S
      Animation           = EVAvre_Dirt_S.EVAvre_Dirt_S
      AnimationMode       = ONCE_BACKWARDS
      Flags               = START_FRAME_LAST
      AnimationSpeedFactorRange = 1.5 1.5
    End
    
    ConditionState        = SNOW REALLYDAMAGED
      Model               = EVAvre_Dirt_SD
      Animation           = EVAvre_Dirt_SD.EVAvre_Dirt_SD
      AnimationMode       = ONCE_BACKWARDS
      Flags               = START_FRAME_LAST
      AnimationSpeedFactorRange = 1.5 1.5
    End
    
  End
  
  ; ***DESIGN parameters ***
  DisplayName            = OBJECT:Warhound
  Side                   = Europe
  EditorSorting          = SYSTEM
  TransportSlotCount     = 3

  
  WeaponSet
    Conditions           = NONE
    Weapon               = PRIMARY   SuicideUnresistableWeapon
  End
  
  ArmorSet
    Conditions           = None
    Armor                = TankArmor
    DamageFX             = UnmannedTankDamageFX
  End

  VisionRange            = 200
  ShroudClearingRange = 200


  IsTrainable            = No
  CrusherLevel           = 2               ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel         = 2               ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  
  ; *** ENGINEERING Parameters ***
  RadarPriority          = UNIT
  KindOf                 = PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE
  
  Body                   = ActiveBody ModuleTag_02
    MaxHealth       = 600.0
    InitialHealth   = 600.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 600
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End

  Behavior = AIUpdateInterface ModuleTag_03
    AutoAcquireEnemiesWhenIdle = No
  End
  Locomotor            = SET_NORMAL   FreeFallLocomotor
  
  Behavior = PhysicsBehavior ModuleTag_04
    Mass                 = 50.0
  End
  
  ; Turret fly off death
  Behavior = SlowDeathBehavior ModuleTag_10
    DeathTypes = ALL -CRUSHED -SPLATTED -SUICIDED
    DestructionDelay = 100
    DestructionDelayVariance = 300
    FX  = INITIAL  FX_CrusaderCatchFire
    FX  = FINAL    FX_GenericTankDeathExplosion 
    OCL = FINAL    OCL_EuropeTankWarhoundDebris  
  End

  Behavior = CreateCrateDie ModuleTag_salvage01
    CrateData = SalvageCrateData
  End

  Behavior                 = TransitionDamageFX ModuleTag_12
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmallLightSmokeColumn
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
  End

  Behavior = DestroyDie ModuleTag_11
    DeathTypes = NONE +CRUSHED +SPLATTED +SUICIDED
  End

  ; A crushing defeat
  Behavior = FXListDie ModuleTag_14
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End

  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Behavior       = OCLUpdate ModuleTag_Respawn01 ; Context window is a reaction to this, no CommandSet 
    MinDelay     = 1000
    MaxDelay     = 1000
    CreateAtEdge = Yes ; as opposed to just creating on self

    FactionTriggered = Yes ; This requires a controlling player before it works
    
    FactionOCL   = Faction:America                   OCL:OCL_SkyShieldShellExplosionDetonationEffect
    FactionOCL   = Faction:China                     OCL:OCL_SkyShieldShellExplosionDetonationEffect
    FactionOCL   = Faction:GLA                       OCL:OCL_SkyShieldShellExplosionDetonationEffect
    FactionOCL   = Faction:AmericaLaserGeneral       OCL:OCL_SkyShieldShellExplosionDetonationEffect
    FactionOCL   = Faction:AmericaSuperWeaponGeneral OCL:OCL_SkyShieldShellExplosionDetonationEffect
  End
  
  Behavior = CreateObjectDie ModuleTag_Respawn02
    DeathTypes = NONE +SUICIDED
    CreationList = OCL_WarhoundNerveGasKillRespawn
    TransferPreviousHealth = No
  End
  
  Geometry               = BOX
  GeometryMajorRadius    = 18.0
  GeometryMinorRadius    = 10.0
  GeometryHeight         = 10.0     
  GeometryIsSmall        = Yes    
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 45
  
End